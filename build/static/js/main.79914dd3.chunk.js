(this["webpackJsonpcopic-frontend"]=this["webpackJsonpcopic-frontend"]||[]).push([[0],{197:function(e,t,a){},198:function(e,t,a){},228:function(e,t){},459:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(2),r=a.n(n),c=a(30),l=a.n(c),i=(a(197),a(16)),o=(a.p,a(198),a(467)),d=(a(199),a(18)),u=a(17),j=(a(460),a(14)),h=a(15),b=a(21),m=a(20),g=a(468),O=a(469),p=a(466),f=a(190),v=a(42),x=a.n(v),S="https://copic-security-service.herokuapp.com/security/",w=new(function(){function e(){Object(j.a)(this,e)}return Object(h.a)(e,[{key:"login",value:function(e,t){return x.a.post(S+"sign-in",{username:e,password:t}).then((function(e){return e.data&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"delete",value:function(e){var t=JSON.parse(localStorage.getItem("user")).accessToken;return console.log(t),x.a.post(S+"delete/"+e,{},{headers:{Authorization:"Bearer "+t}})}},{key:"update_password",value:function(e,t,a){var s=JSON.parse(localStorage.getItem("user")).accessToken;return x.a.put(S+"update_password",{username:e,passwordold:t,passwordnew:a},{headers:{Authorization:"Bearer "+s}}).then((function(e){return console.log(e),e.data&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"update_email",value:function(e,t,a){var s=JSON.parse(localStorage.getItem("user")).accessToken;return x.a.put(S+"update_email",{username:e,passwordold:t,email:a},{headers:{Authorization:"Bearer "+s}}).then((function(e){return console.log(e),e.data&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.setItem("user",null)}},{key:"register",value:function(e,t,a){return x.a.post(S+"sign-up",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),N=(a(132),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={currentUser:void 0},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=w.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){w.logout()}},{key:"render",value:function(){var e=this.state.currentUser;return Object(s.jsx)("div",{children:Object(s.jsx)("header",{children:Object(s.jsxs)(g.a,{expand:"lg",children:[Object(s.jsx)(d.b,{to:"/",children:Object(s.jsx)("img",{className:"logo",src:"/logonormal.png"})}),Object(s.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(g.a.Collapse,{id:"basic-navbar-nav",children:[e?Object(s.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/upload",className:"nav-link upload",children:"Upload"})}),Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/profile",className:"nav-link profile",children:e.username})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{href:"/logout",className:"nav-link logout",onClick:this.logOut,children:"LogOut"})})]}):Object(s.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/login",className:"nav-link login",children:"Login"})}),Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/register",className:"nav-link register",children:"Sign Up"})})]}),Object(s.jsx)(O.a,{children:Object(s.jsxs)(p.a,{menuAlign:"right",id:"dropdown-menu-align-right",children:[Object(s.jsx)(f.a.Item,{eventKey:"1",children:"Action"}),Object(s.jsx)(f.a.Item,{eventKey:"2",children:"Another action"}),Object(s.jsx)(f.a.Item,{eventKey:"3",children:"Something else here"}),Object(s.jsx)(f.a.Divider,{}),Object(s.jsx)(f.a.Item,{eventKey:"4",children:"Separated link"})]})})]})]})})})}}]),a}(n.Component)),y=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("footer",{class:"page-footer font-small blue",children:Object(s.jsx)("div",{class:"footer-copyright text-center py-3",children:"\xa9 2020 Copyright: CoPic"})})})}}]),a}(n.Component),k=(a(228),a(26)),C=a(86),I=a.n(C),U=a(38),P=a.n(U),B=a(87),A=a.n(B),D=function(e){if(!e)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},E=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleLogin=s.handleLogin.bind(Object(k.a)(s)),s.onChangeUsername=s.onChangeUsername.bind(Object(k.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(k.a)(s)),s.state={username:"",password:"",loading:!1,message:""},s}return Object(h.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?w.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"card card-container",children:Object(s.jsxs)(I.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)(P.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[D]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)(P.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[D]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("button",{type:"submit",name:"submit",className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object(s.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(s.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(s.jsx)(A.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})})}}]),a}(n.Component),T=a(186),J=function(e){if(!e)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},L=function(e){if(!Object(T.isEmail)(e))return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},H=function(e){if(e.length<3||e.length>20)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},_=function(e){if(e.length<2||e.length>40)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},F=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleRegister=s.handleRegister.bind(Object(k.a)(s)),s.onChangeUsername=s.onChangeUsername.bind(Object(k.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(k.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(k.a)(s)),s.state={username:"",email:"",password:"",successful:!1,message:""},s}return Object(h.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&w.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0}),t.props.history.push("/login"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"card card-container",children:Object(s.jsxs)(I.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)(P.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[J,H]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Email"}),Object(s.jsx)(P.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[J,L]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)(P.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[J,_]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})})]}),this.state.message&&Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message})}),Object(s.jsx)(A.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})})}}]),a}(n.Component),K=a(118),z=a.n(K),R=a(187),M=a(53);a(313),a(314);0===M.a.apps.length&&M.a.initializeApp({apiKey:"AIzaSyBcns3Lw2xlkPHKGTQiFg4s_woXnE-fQC0",authDomain:"copic-fire.firebaseapp.com",projectId:"copic-fire",storageBucket:"copic-fire.appspot.com",messagingSenderId:"62908836507",appId:"1:62908836507:web:3a5852f6823160a0ec743e",measurementId:"G-HQQLC3M212"});var Q=M.a.storage(),q=M.a.firestore(),G=M.a.firestore.FieldValue.serverTimestamp(),V=function(e){var t=JSON.parse(localStorage.getItem("user")),a=JSON.parse(localStorage.getItem("tags")),s=t.username,r=Object(n.useState)(0),c=Object(i.a)(r,2),l=c[0],o=c[1],d=Object(n.useState)(null),u=Object(i.a)(d,2),j=u[0],h=u[1],b=Object(n.useState)(null),m=Object(i.a)(b,2),g=m[0],O=m[1];return Object(n.useEffect)((function(){var t=Q.ref(e.name),n=q.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;o(t)}),(function(e){h(e)}),Object(R.a)(z.a.mark((function e(){var r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return r=e.sent,c=G,e.next=6,n.add({url:r,createdAt:c,uploadedBy:s,tags:a});case 6:O(r);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:l,error:j,url:g}},W=function(e){var t=e.file,a=e.setFile,r=V(t),c=r.url,l=r.progress;return Object(n.useEffect)((function(){c&&a(null)}),[c],a),Object(s.jsx)("div",{className:"progress-bar",style:{width:l+"%"}})},X=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],d=(l[1],Object(n.useState)(null)),u=Object(i.a)(d,2),j=u[0],h=u[1];localStorage.setItem("uploadedBy",null);var b=["image/png","image/jpeg","image/gif"];return console.log(o),Object(s.jsxs)("div",{children:[Object(s.jsx)("form",{children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&b.includes(t.type)?(r(t),h("")):(r(null),h("Please select a image (png, jpeg or gif)"))}})})}),Object(s.jsxs)("div",{className:"output",children:[j&&Object(s.jsx)("div",{className:"error",children:j}),a&&Object(s.jsx)("div",{children:a.name}),a&&Object(s.jsx)(W,{file:a,setFile:r})]})]})},Y=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).deleteAccount=function(e){var t=JSON.parse(localStorage.getItem("user")).id;w.delete(t),w.logout()},s.state={currentUser:w.getCurrentUser()},s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state.currentUser;return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("header",{className:"jumbotron",children:Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:e.username})," Profile"]})}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:"Token:"})," ",e.accessToken.substring(0,20)," ..."," ",e.accessToken.substr(e.accessToken.length-20)]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(s.jsx)("p",{children:Object(s.jsx)(d.b,{to:"/update_password",children:Object(s.jsx)("button",{children:"Update password"})})}),Object(s.jsx)("p",{children:Object(s.jsx)(d.b,{to:"/update_email",children:Object(s.jsx)("button",{children:"Update email"})})}),Object(s.jsx)("p",{children:Object(s.jsx)(d.b,{to:"/",children:Object(s.jsx)("button",{onClick:this.deleteAccount,className:"btn-danger",children:"Delete Account"})})})]})}}]),a}(n.Component),Z=new(function(){function e(){Object(j.a)(this,e)}return Object(h.a)(e,[{key:"delete",value:function(e){return x.a.create({headers:{id:e}}).post("https://copic-media-service.herokuapp.com/media/delete")}}]),e}()),$=function(e){var t,a=e.selectedImg,n=e.setSelectedImg,r=e.selectedId,c=e.selectedUser,l=(e.setSelectedUser,JSON.parse(localStorage.getItem("user")));l&&l.username==c&&"/home"!=window.location.pathname&&(t=!0);return Object(s.jsx)("div",{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&(n(null),localStorage.setItem("uploadedBy",null))},children:Object(s.jsxs)("div",{className:"background",children:[Object(s.jsxs)(d.b,{to:"/selected/".concat(c),onClick:function(e){n(null)},className:"nav-link user",children:["Uploaded by : ",c]}),t&&Object(s.jsx)("button",{name:"delete",className:"btn-danger",onClick:function(e){Z.delete(r).then((function(e){console.log("succes")})),n(null)},children:"Delete Image"}),Object(s.jsx)("img",{src:a,alt:"Enlarged picture"})]})})},ee=a(33),te=function(e){var t=JSON.parse(localStorage.getItem("user")).username,a=Object(n.useState)([]),s=Object(i.a)(a,2),r=s[0],c=s[1];return Object(n.useEffect)((function(){var a=q.collection(e).where("uploadedBy","==",t).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(ee.a)(Object(ee.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return a()}}),[e]),{docsUser:r}},ae=function(e){var t=e.setSelectedImg,a=e.setSelectedId,n=e.setSelectedUser,r=te("images").docsUser;return Object(s.jsx)("div",{className:"img-grid",children:r&&r.map((function(e){return Object(s.jsx)("div",{className:"img-wrap",onClick:function(){return t(e.url)+a(e.id)+n(e.uploadedBy)},children:Object(s.jsx)("img",{src:e.url,alt:e.id})},e.id)}))})},se=function(e){var t=e.setSelectedImg,a=e.setSelectedUser,r=Object(n.useState)([]),c=Object(i.a)(r,2),l=c[0],o=c[1],d=Object(n.useState)(null),u=Object(i.a)(d,2),j=u[0],h=u[1],b=Object(n.useState)(null),m=Object(i.a)(b,2),g=m[0],O=m[1];return Object(n.useEffect)((function(e){var t=null!=j;""==j&&h(null),t?q.collection("images").where("tags","array-contains",j).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(ee.a)(Object(ee.a)({},e.data()),{},{id:e.id}))})),o(t),l.length>=1?O(""):O("Nothing found!")})):(O(""),q.collection("images").orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(ee.a)(Object(ee.a)({},e.data()),{},{id:e.id}))})),o(t)})))})),Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:"bg-img",src:"/pexels-nika-akin-3475133 1.png"}),Object(s.jsx)("img",{className:"bg-figure",src:"/Vectorgood.png"}),Object(s.jsxs)("h1",{className:"home-text",children:["The best free stock photos,",Object(s.jsx)("br",{}),"with a touch of ",Object(s.jsx)("span",{style:{color:"#61C77D"},children:"color"}),Object(s.jsx)("br",{}),"shared by talented creators."]}),Object(s.jsx)("input",{type:"text",className:"form-control searchbar",placeholder:"Search...",onChange:function(e){h(e.target.value)}}),Object(s.jsx)("div",{children:g}),Object(s.jsx)("div",{className:"img-grid",children:l&&l.map((function(e){return Object(s.jsx)("div",{className:"img-wrap",onClick:function(){return t(e.url)+a(e.uploadedBy)+localStorage.setItem("uploadedBy",e.uploadedBy)},children:Object(s.jsx)("img",{src:e.url,alt:"Uploaded pic"})},e.id)}))})]})},ne=a(120),re=a(188),ce=[188,13],le=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={tags:[],suggestions:[]},s.handleDelete=s.handleDelete.bind(Object(k.a)(s)),s.handleAddition=s.handleAddition.bind(Object(k.a)(s)),s.handleDrag=s.handleDrag.bind(Object(k.a)(s)),s}return Object(h.a)(a,[{key:"handleDelete",value:function(e){var t=this.state.tags;this.setState({tags:t.filter((function(t,a){return a!==e}))})}},{key:"handleAddition",value:function(e){this.setState((function(t){return{tags:[].concat(Object(ne.a)(t.tags),[e])}}))}},{key:"handleDrag",value:function(e,t,a){var s=Object(ne.a)(this.state.tags).slice();s.splice(t,1),s.splice(a,0,e),this.setState({tags:s})}},{key:"render",value:function(){var e=this.state,t=e.tags,a=e.suggestions,n=t.map((function(e){return e.text}));JSON.stringify(t);return console.log(n),localStorage.setItem("tags",JSON.stringify(n)),Object(s.jsx)("div",{children:Object(s.jsx)(re.WithContext,{tags:t,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:ce})})}}]),a}(r.a.Component),ie=function(e){var t=localStorage.getItem("uploadedBy"),a=Object(n.useState)([]),s=Object(i.a)(a,2),r=s[0],c=s[1];return Object(n.useEffect)((function(){var a=q.collection(e).where("uploadedBy","==",t).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(ee.a)(Object(ee.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return a()}}),[e]),{docsUser:r}},oe=function(e){var t=e.setSelectedImg,a=e.setSelectedId,n=e.setSelectedUser,r=(localStorage.getItem("uploadedBy"),ie("images").docsUser);return Object(s.jsx)("div",{className:"img-grid",children:r&&r.map((function(e){return Object(s.jsx)("div",{className:"img-wrap",onClick:function(){return t(e.url)+a(e.id)+n(e.uploadedBy)},children:Object(s.jsx)("img",{src:e.url,alt:"Uploaded pic"})},e.id)}))})},de=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={currentUser:void 0},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=w.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){w.logout()}},{key:"render",value:function(){var e=this.state.currentUser;return Object(s.jsx)("div",{children:Object(s.jsx)("header",{children:Object(s.jsxs)(g.a,{expand:"lg",children:[Object(s.jsx)(d.b,{to:"/",children:Object(s.jsx)("img",{className:"logo",src:"/logo.png"})}),Object(s.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:e?Object(s.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/upload",className:"nav-link whitetext upload",children:"Upload"})}),Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/profile",className:"nav-link whitetext profile",children:e.username})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{href:"/logout",className:"nav-link whitetext logout",onClick:this.logOut,children:"LogOut"})})]}):Object(s.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/login",className:"nav-link whitetext login",children:"Login"})}),Object(s.jsx)("li",{className:"nav-item ",children:Object(s.jsx)(d.b,{to:"/register",className:"nav-link whitetext register",children:"Sign Up"})})]})})]})})})}}]),a}(n.Component),ue=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).mySubmitHandler=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("user")).username;console.log(s.state.passwordOld),console.log(s.state.passwordNew);var a=s.state.passwordOld,n=s.state.passwordNew;console.log(a),console.log(n),w.update_password(t,a,n).then((function(){alert("Password changed!"),window.location.reload()}))},s.oldPwHandler=function(e){s.setState({passwordOld:e.target.value})},s.newPwHandler=function(e){s.setState({passwordNew:e.target.value})},s.state={passwordOld:""},s.state={passwordNew:""},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.mySubmitHandler,children:[Object(s.jsx)("p",{children:"Old Password"}),Object(s.jsx)("input",{type:"password",onChange:this.oldPwHandler}),Object(s.jsx)("p",{children:"New Password"}),Object(s.jsx)("input",{type:"password",onChange:this.newPwHandler}),Object(s.jsx)("input",{type:"submit"})]})}}]),a}(r.a.Component),je=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).mySubmitHandler=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("user")).username;console.log(s.state.passwordOld),console.log(s.state.email);var a=s.state.passwordOld,n=s.state.email;console.log(a),console.log(n),w.update_email(t,a,n).then((function(){alert("Email changed!"),window.location.reload()}))},s.oldPwHandler=function(e){s.setState({passwordOld:e.target.value})},s.newPwHandler=function(e){s.setState({email:e.target.value})},s.state={passwordOld:""},s.state={email:""},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.mySubmitHandler,children:[Object(s.jsx)("p",{children:"Old Password"}),Object(s.jsx)("input",{type:"password",onChange:this.oldPwHandler}),Object(s.jsx)("p",{children:"New Email"}),Object(s.jsx)("input",{type:"email",onChange:this.newPwHandler}),Object(s.jsx)("input",{type:"submit"})]})}}]),a}(r.a.Component);var he=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(i.a)(c,2),j=l[0],h=l[1],b=Object(n.useState)(null),m=Object(i.a)(b,2),g=m[0],O=m[1];return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(o.a,{fluid:!0,children:Object(s.jsxs)(d.a,{children:[Object(s.jsx)("div",{className:"content-padding",children:Object(s.jsxs)(u.d,{children:[Object(s.jsx)(u.b,{path:"/login",component:E}),Object(s.jsxs)(u.b,{path:"/profile",children:[Object(s.jsx)(N,{}),Object(s.jsx)(Y,{})]}),Object(s.jsx)(u.b,{path:"/update_password",component:ue}),Object(s.jsx)(u.b,{path:"/update_email",component:je}),Object(s.jsx)(u.b,{path:"/register",component:F}),Object(s.jsxs)(u.b,{path:"/selected/".concat(g),children:[Object(s.jsx)(N,{}),Object(s.jsx)(oe,{})]}),Object(s.jsxs)(u.b,{path:"/upload",children:[Object(s.jsx)(N,{}),Object(s.jsx)(le,{}),Object(s.jsx)(X,{}),Object(s.jsx)(ae,{setSelectedImg:r,setSelectedId:h,setSelectedUser:O}),a&&Object(s.jsx)($,{selectedImg:a,selectedId:j,setSelectedUser:O,selectedUser:g,setSelectedImg:r})]}),Object(s.jsxs)(u.b,{path:"/",children:[Object(s.jsx)(de,{}),Object(s.jsx)(u.a,{to:"/home"}),Object(s.jsx)(se,{setSelectedImg:r,setSelectedUser:O}),a&&Object(s.jsx)($,{selectedImg:a,setSelectedUser:O,selectedUser:g,setSelectedImg:r})]})]})}),Object(s.jsx)(y,{})]})})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,470)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};l.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(he,{})}),document.getElementById("root")),be()}},[[459,1,2]]]);
//# sourceMappingURL=main.79914dd3.chunk.js.map